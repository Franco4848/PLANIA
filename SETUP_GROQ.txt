â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    CONFIGURACIÃ“N DE GROQ API - PLANIA                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… IMPLEMENTACIÃ“N COMPLETADA

Se ha integrado exitosamente Groq LLM en tu aplicaciÃ³n PLANIA con el flujo:
  Filtros â†’ Chat â†’ IA (Groq) â†’ Enriquecimiento (Google Places) â†’ Mapa

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ PASOS PARA INICIAR

1. OBTENER API KEY DE GROQ (GRATIS)
   
   a) Ve a: https://console.groq.com/keys
   b) Crea una cuenta (sin tarjeta de crÃ©dito)
   c) Click en "Create API Key"
   d) Copia la key (empieza con "gsk_...")

2. CONFIGURAR BACKEND

   a) Navega a: plania-backend/
   
   b) Crea archivo .env con este contenido:
   
      GOOGLE_PLACES_API_KEY=tu_google_places_api_key_actual
      GROQ_API_KEY=gsk_tu_key_de_groq_aqui
   
   c) Reemplaza "gsk_tu_key_de_groq_aqui" con tu key real

3. INICIAR SERVICIOS

   Terminal 1 (Backend):
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   cd plania-backend
   npm run start:dev
   
   Terminal 2 (Frontend):
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   cd plania-project
   npm run dev

4. PROBAR LA FUNCIONALIDAD

   a) Abre http://localhost:5173 (o el puerto que use Vite)
   b) Click en pestaÃ±a "IA" en la navbar
   c) Configura filtros:
      - DÃ­as: 3
      - Presupuesto: $50,000
      - Tipos: Museos, Restaurantes, Parques
   d) Escribe en el chat:
      "Quiero un itinerario cultural y relajado con buena gastronomÃ­a"
   e) Click "Generar itinerario"
   f) VerÃ¡s el itinerario en el panel Y la ruta dibujada en el mapa

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ ARCHIVOS CREADOS/MODIFICADOS

Backend (plania-backend/src/):
  âœ… ia/dto/generar-itinerario.dto.ts  - ValidaciÃ³n de entrada
  âœ… ia/ia.controller.ts               - Endpoint POST /ia/itinerario
  âœ… ia/ia.service.ts                  - LÃ³gica Groq + enriquecimiento
  âœ… ia/ia.module.ts                   - MÃ³dulo NestJS
  âœ… app.module.ts                     - Importa IaModule
  âœ… actividades/actividades.module.ts - Exporta ActividadesService
  âœ… .env.example                      - Template de variables

Frontend (plania-project/src/):
  âœ… services/ia.js                    - Cliente HTTP para /ia/itinerario
  âœ… components/ChatIA.jsx             - Filtros + input de chat
  âœ… components/ItinerarioPanel.jsx    - VisualizaciÃ³n por dÃ­as
  âœ… App.jsx                           - IntegraciÃ³n con Mapa
  âœ… App.css                           - Estilos para nuevos componentes

DocumentaciÃ³n:
  âœ… INTEGRACION_IA_GROQ.md            - DocumentaciÃ³n completa
  âœ… SETUP_GROQ.txt                    - Este archivo

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ FLUJO IMPLEMENTADO

1. Usuario abre pestaÃ±a "IA"
2. Selecciona filtros visuales (tipos, presupuesto, dÃ­as)
3. Escribe descripciÃ³n del viaje en lenguaje natural
4. Frontend envÃ­a a POST /ia/itinerario
5. Backend:
   - Construye system prompt con restricciones
   - Llama a Groq (modelo llama-3.3-70b-versatile)
   - Recibe itinerario en JSON
   - Para cada actividad, busca lugar real en Google Places
   - Construye objeto con destino + waypoints para el mapa
6. Frontend:
   - Muestra itinerario en ItinerarioPanel (por dÃ­as)
   - Pasa rutaDatos a Mapa.jsx
   - Mapa dibuja ruta con Google Directions
7. Usuario puede:
   - Click en actividad â†’ ver en mapa
   - Click "Regenerar" â†’ volver a filtros/chat

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ EJEMPLOS DE PROMPTS

Viaje cultural:
  "Itinerario de 3 dÃ­as enfocado en museos, galerÃ­as y buena gastronomÃ­a.
   Presupuesto alto, preferencia por lugares con historia."

Viaje familiar:
  "2 dÃ­as para familia con niÃ±os, presupuesto moderado. Queremos parques,
   actividades al aire libre y lugares para comer."

Viaje econÃ³mico:
  "1 dÃ­a con presupuesto bajo, actividades gratuitas o baratas.
   Parques, plazas y cafeterÃ­as econÃ³micas."

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”§ TROUBLESHOOTING

âŒ Error: "La IA no generÃ³ un JSON vÃ¡lido"
   â†’ Groq devolviÃ³ formato incorrecto. El service limpia markdown automÃ¡ticamente.
   â†’ Si persiste, revisar temperature en ia.service.ts (actualmente 0.7)

âŒ Error: "No se encontraron lugares"
   â†’ Tipos de filtro muy restrictivos o ubicaciÃ³n sin resultados
   â†’ Ampliar tipos permitidos o ajustar radio en actividades.service.ts (3km)

âŒ Ruta no se dibuja en el mapa
   â†’ Verificar GOOGLE_PLACES_API_KEY y que Places API estÃ© habilitada
   â†’ Revisar consola del navegador para errores de Google Maps

âŒ Backend no inicia
   â†’ Verificar que .env existe y tiene GROQ_API_KEY vÃ¡lida
   â†’ Ejecutar: npm install (por si falta groq-sdk)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š ESPECIFICACIONES TÃ‰CNICAS

Modelo LLM:        llama-3.3-70b-versatile (Groq)
Temperature:       0.7
Max tokens:        2048
Radio bÃºsqueda:    3 km desde ubicaciÃ³n del usuario
Tipos soportados:  museo, restaurante, parque, cafeterÃ­a, galerÃ­a, cine
Formato respuesta: JSON estructurado con dÃ­as/actividades/presupuesto

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ¨ PRÃ“XIMOS PASOS SUGERIDOS

- Guardar itinerarios en base de datos
- Compartir itinerarios por link
- Exportar a PDF
- Modo editar (cambiar horario, eliminar, reordenar actividades)
- Historial de prompts
- Soporte multiidioma

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š DOCUMENTACIÃ“N COMPLETA

Lee INTEGRACION_IA_GROQ.md para detalles tÃ©cnicos completos, ejemplos de API,
y arquitectura del sistema.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Â¡Listo para usar! Solo falta agregar tu GROQ_API_KEY en plania-backend/.env
